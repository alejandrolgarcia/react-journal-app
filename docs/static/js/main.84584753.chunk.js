(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{152:function(e,t,a){},153:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(1),s=a(28),r=a.n(s),i=a(14),o=a(18),l=a(17),u=a(7),j=a(25);a(67),a(70);j.a.initializeApp({apiKey:"AIzaSyCDdW9QNsfpNO2SrvjcmYejw6qgSTSYBco",authDomain:"react-journal-app-5a5df.firebaseapp.com",databaseURL:"https://react-journal-app-5a5df.firebaseio.com",projectId:"react-journal-app-5a5df",storageBucket:"react-journal-app-5a5df.appspot.com",messagingSenderId:"702352382023",appId:"1:702352382023:web:aac1299292aae89dc67962"});j.a.firestore();var d=new j.a.auth.GoogleAuthProvider,b=a(26),p=a.n(b),m=a(38),h=a(39),O=a.n(h),x="[Auth] Login",f="[Auth] Logout",g="[UI] Set Error",_="[UI] Remove Error",v="[UI] Start loading",N="[UI] Finish loading",y=function(e){return{type:g,payload:e}},w=function(){return{type:N}},E=function(e,t){return function(a){a({type:v}),j.a.auth().signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;a(w()),a(S(t.uid,t.displayName))})).catch((function(e){console.log(e),a(w()),O.a.fire("Error",e.message,"error")}))}},S=function(e,t){return{type:x,payload:{uid:e,displayName:t}}},k=function(){return{type:f}},C=a(30),A=a(8),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.useState)(e),a=Object(o.a)(t,2),n=a[0],s=a[1],r=function(){s(e)},i=function(e){var t=e.target;s(Object(A.a)(Object(A.a)({},n),{},Object(C.a)({},t.name,t.value)))};return[n,i,r]},L=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.ui})).loading,a=I({email:"",password:""}),c=Object(o.a)(a,2),s=c[0],r=c[1],u=s.email,b=s.password;return Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{className:"auth__title",children:"Login"}),Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(E(u,b))},children:[Object(n.jsx)("input",{type:"text",placeholder:"Email",name:"email",className:"auth__input",autoComplete:"off",value:u,onChange:r}),Object(n.jsx)("input",{type:"password",placeholder:"Password",name:"password",className:"auth__input",value:b,onChange:r}),Object(n.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",disabled:t,children:t?"Loading":"Login"}),Object(n.jsxs)("div",{className:"auth__social-networks",children:[Object(n.jsx)("p",{children:"Login with social networks"}),Object(n.jsxs)("div",{className:"google-btn",onClick:function(){e((function(e){j.a.auth().signInWithPopup(d).then((function(t){var a=t.user;e(S(a.uid,a.displayName))}))}))},children:[Object(n.jsx)("div",{className:"google-icon-wrapper",children:Object(n.jsx)("img",{className:"google-icon",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"google button"})}),Object(n.jsx)("p",{className:"btn-text",children:Object(n.jsx)("b",{children:"Sign in with google"})})]})]}),Object(n.jsx)(l.b,{to:"/auth/register",className:"link",children:"Create new account"})]})]})},P=a(56),U=a.n(P),D=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.ui})).msgError,a=I({name:"",email:"",password:"",password2:""}),c=Object(o.a)(a,2),s=c[0],r=c[1],u=s.name,d=s.email,b=s.password,h=s.password2,x=function(){return 0===u.trim().length?(e(y("Name is required")),!1):U.a.isEmail(d)?b!==h||b<5?(e(y("Password should be at least 6 characters and match each other")),!1):(e({type:_}),!0):(e(y("Email is not valid")),!1)};return Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{className:"auth__title",children:"Register"}),t&&Object(n.jsx)("div",{className:"auth__alert-error",children:t}),Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault(),x()&&e(function(e,t,a){return function(n){j.a.auth().createUserWithEmailAndPassword(e,t).then(function(){var e=Object(m.a)(p.a.mark((function e(t){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.user,e.next=3,c.updateProfile({displayName:a});case 3:n(S(c.uid,c.displayName));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),O.a.fire("Error",e.message,"error")}))}}(d,b,u))},children:[Object(n.jsx)("input",{type:"text",placeholder:"Name",name:"name",className:"auth__input",autoComplete:"off",value:u,onChange:r}),Object(n.jsx)("input",{type:"text",placeholder:"Email",name:"email",className:"auth__input",autoComplete:"off",value:d,onChange:r}),Object(n.jsx)("input",{type:"password",placeholder:"Password",name:"password",className:"auth__input",value:b,onChange:r}),Object(n.jsx)("input",{type:"password",placeholder:"Confirm Password",name:"password2",className:"auth__input",value:h,onChange:r}),Object(n.jsx)("button",{type:"submit",className:"btn btn-primary btn-block mb-5",children:"Register"}),Object(n.jsx)(l.b,{to:"/auth/login",className:"link",children:"Already registered?"})]})]})},R=function(){return Object(n.jsx)("div",{className:"auth__main",children:Object(n.jsx)("div",{className:"auth_box-container",children:Object(n.jsxs)(u.d,{children:[Object(n.jsx)(u.b,{exact:!0,path:"/auth/login",component:L}),Object(n.jsx)(u.b,{exact:!0,path:"/auth/register",component:D}),Object(n.jsx)(u.a,{to:"/auth/login"})]})})})},W=function(){return Object(n.jsxs)("div",{className:"notes__appbar",children:[Object(n.jsx)("span",{children:"28 de noviembre de 2020"}),Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{className:"btn",children:"Picture"}),Object(n.jsx)("button",{className:"btn",children:"Save"})]})]})},z=function(){return Object(n.jsxs)("div",{className:"notes__main-content",children:[Object(n.jsx)(W,{}),Object(n.jsxs)("div",{className:"notes__content",children:[Object(n.jsx)("input",{type:"text",placeholder:"Some awesome title",className:"notes__title-input",autoComplete:"off"}),Object(n.jsx)("textarea",{placeholder:"What happened today",className:"notes__textarea"}),Object(n.jsx)("div",{className:"notes__image",children:Object(n.jsx)("img",{src:"https://d500.epimg.net/cincodias/imagenes/2019/10/17/lifestyle/1571308099_533301_1571308258_sumario_normal.jpg",alt:"imagen"})})]})]})},B=function(){return Object(n.jsxs)("div",{className:"journal__entry pointer",children:[Object(n.jsx)("div",{className:"journal__entry-picture",style:{backgroundSize:"cover",backgroundImage:"url(https://d500.epimg.net/cincodias/imagenes/2019/10/17/lifestyle/1571308099_533301_1571308258_sumario_normal.jpg)"}}),Object(n.jsxs)("div",{className:"journal__entry-body",children:[Object(n.jsx)("p",{className:"journal__entry-title",children:"Un nuevo dia"}),Object(n.jsx)("p",{className:"journal__entry-content",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Omnis nam nobis deserunt."})]}),Object(n.jsxs)("div",{className:"journal__entry-date-box",children:[Object(n.jsx)("span",{children:"Monday"}),Object(n.jsx)("h4",{children:"29"})]})]})},G=[1,2,3,4,5,6,7,8,9,10],T=function(){return Object(n.jsx)("div",{className:"journal__entries",children:G.map((function(e){return Object(n.jsx)(B,{},e)}))})},q=function(){var e=Object(i.b)();return Object(n.jsxs)("aside",{className:"journal__sidebar",children:[Object(n.jsxs)("div",{className:"journal__sidebar-navbar",children:[Object(n.jsxs)("h3",{className:"mt-5",children:[Object(n.jsx)("i",{className:"far fa-moon"}),Object(n.jsx)("span",{children:" Alejandro"})]}),Object(n.jsx)("button",{className:"btn",onClick:function(){e(function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.auth().signOut();case 2:t(k());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})]}),Object(n.jsxs)("div",{className:"journal__new-entry",children:[Object(n.jsx)("i",{className:"far fa-calendar-plus fa-5x"}),Object(n.jsx)("p",{className:"mt-5",children:"New Entry"})]}),Object(n.jsx)(T,{})]})},J=function(){return Object(n.jsxs)("div",{className:"journal__main-content",children:[Object(n.jsx)(q,{}),Object(n.jsx)("main",{children:Object(n.jsx)(z,{})})]})},M=a(31),X=function(e){var t=e.isAuthenticated,a=e.component,c=Object(M.a)(e,["isAuthenticated","component"]);return Object(n.jsx)(u.b,Object(A.a)(Object(A.a)({},c),{},{component:function(e){return t?Object(n.jsx)(u.a,{to:"/"}):Object(n.jsx)(a,Object(A.a)({},e))}}))},Y=function(e){var t=e.isAuthenticated,a=e.component,c=Object(M.a)(e,["isAuthenticated","component"]);return Object(n.jsx)(u.b,Object(A.a)(Object(A.a)({},c),{},{component:function(e){return t?Object(n.jsx)(a,Object(A.a)({},e)):Object(n.jsx)(u.a,{to:"/auth/login"})}}))},F=function(){var e=Object(i.b)(),t=Object(c.useState)(!0),a=Object(o.a)(t,2),s=a[0],r=a[1],d=Object(c.useState)(!1),b=Object(o.a)(d,2),p=b[0],m=b[1];return Object(c.useEffect)((function(){j.a.auth().onAuthStateChanged((function(t){(null===t||void 0===t?void 0:t.uid)?(e(S(t.uid,t.displayName)),m(!0)):m(!1),r(!1)}))}),[e,r,m]),s?Object(n.jsx)("div",{class:"loading show",children:Object(n.jsx)("div",{class:"spin"})}):Object(n.jsx)(l.a,{children:Object(n.jsx)("div",{children:Object(n.jsx)("div",{children:Object(n.jsxs)(u.d,{children:[Object(n.jsx)(X,{path:"/auth",component:R,isAuthenticated:p}),Object(n.jsx)(Y,{exact:!0,path:"/",component:J,isAuthenticated:p}),Object(n.jsx)(u.a,{to:"/auth/login"})]})})})})},K=a(19),Q=a(57),V={loading:!1,msgError:null},H="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||K.d,Z=Object(K.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{uid:t.payload.uid,name:t.payload.displayName};case f:return{};default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(A.a)(Object(A.a)({},e),{},{msgError:t.payload});case _:return Object(A.a)(Object(A.a)({},e),{},{msgError:null});case v:return Object(A.a)(Object(A.a)({},e),{},{loading:!0});case N:return Object(A.a)(Object(A.a)({},e),{},{loading:!1});default:return e}}}),$=Object(K.e)(Z,H(Object(K.a)(Q.a))),ee=function(){return Object(n.jsx)(i.a,{store:$,children:Object(n.jsx)(F,{})})};a(152);r.a.render(Object(n.jsx)(ee,{}),document.getElementById("root"))}},[[153,1,2]]]);
//# sourceMappingURL=main.84584753.chunk.js.map